*** Settings ***
Documentation     A resource file with reusable keywords and variables.
...
...               The system specific keywords created here form our own
...               domain specific language. They utilize keywords provided
...               by the imported Selenium2Library.
Library           Selenium2Library
Library           Collections
Library    	      OperatingSystem

*** Variables ***

#Environment settings
${ENVIRONMENT}					dev							#Dev = dev 					| Test = test 			| Stage = stage

#Sleep settings
${NAVIGATION}					7
${EVENT}						2

#_______________________________________________________________________________________________________________________#

#Browser
${BROWSER}=						chrome					#Supported: chrome | firefox | ie

#Routes
${SERVER}=						https://${ENVIRONMENT}.fepblue.org:7443		
${LOGIN_URL}=					${SERVER}/login  
${MYBLUE}=						https://${ENVIRONMENT}.fepblue.org:8443/
${MYBLUE_LOGIN_URL}=			${MYBLUE}web/guest
${SERVER_NAVBAR}=				${MYBLUE}html/js/navlib/v1

#Users
${STANDARD}=					junecontractuatstd
${BASIC}=						marchcontractuat
${TERMINATED}=					marchtermeduat
${MINOR}=						ageless_18
${PASSWORD}=					Bigfun21!

*** Keywords ***

Environment setup
	Run Keyword If		'${ENVIRONMENT}'=='dev'			develop
	Run Keyword If		'${ENVIRONMENT}'=='test'		test
	Run Keyword If		'${ENVIRONMENT}'=='stage'		stage

develop
	#SSO Configuration
	Set global variable		${SSO}							ssodev2	
	Set global variable		${ESERVICE_SSO}					http://custservv2
	Set global variable		${ESERVICE_PID}					http://custservv2.fepblue.org/fedlogin		
	Set global variable		${CHIPREWARDS_SSO}				fepdemo	
	Set global variable		${CHIPREWARDS_PID}				fepssouat
	Set global variable		${SSO_PORT}						9032


test
	#SSO Configuration
	Set global variable		${SSO}							ssotest						#Dev = ssodev2 				| Test = ssotest				| Stage = ssodev
	Set global variable		${ESERVICE_SSO}					https://custservpt			#Dev = http://custservv2 	| Test = https://custservpt		| Stage = http://custservv2
	Set global variable		${ESERVICE_PID}					SBP-ESERVICE-PT				#Test = SBP-ESERVICE-PT		| Dev & Stage = http://custservv2.fepblue.org/fedlogin	
	Set global variable		${CHIPREWARDS_SSO}				feptest						#Dev = fepdemo				| Test = feptest				| Stage = fepuat
	Set global variable		${CHIPREWARDS_PID}				feptest						#Dev = fepssouat			| Test = feptest				| Stage = fepuat
	Set global variable		${SSO_PORT}						9031						#Dev = 9032 				| Test = 9031					| Stage = 9031


stage
	#SSO Configuration
	Set global variable		${SSO}							ssodev						#Dev = ssodev2 				| Test = ssotest				| Stage = ssodev
	Set global variable		${ESERVICE_SSO}					http://custservv2			#Dev = http://custservv2 	| Test = https://custservpt		| Stage = http://custservv2
	Set global variable		${ESERVICE_PID}					http://custservv2.fepblue.org/fedlogin					#Test = SBP-ESERVICE-PT			| Dev & Stage = http://custservv2.fepblue.org/fedlogin	
	Set global variable		${CHIPREWARDS_SSO}				fepuat						#Dev = fepdemo				| Test = feptest				| Stage = fepuat
	Set global variable		${CHIPREWARDS_PID}				fepuat						#Dev = fepssouat			| Test = feptest				| Stage = fepuat
	Set global variable		${SSO_PORT}						9031						#Dev = 9032 				| Test = 9031					| Stage = 9031


I am on a mobile device
	Set Window Size		400		700
	
I navigate to "${url}"
	Go To 		${url}
	
	
	
I Click the "${link}" link
	Click Link					css=${link}
		
I Click the "${element}" element
	Click Element		css=${element}

I Click the "${button}" Button
	Click Button		css=${button}
	Sleep				${NAVIGATION}
	
	

I should see the element "${element}" displayed
	Element Should Be Visible		css=${element}	

I should see the link "${text}" displayed			
	Page Should Contain Link		css=${text}		
	
I should see "${element}" have the text "${text}" displayed
	Element Should Contain		css=${element}		${text}	
	
I should see the element "${element}" disabled
	Page Should Contain Element		css=${element}

I should not see the element "${element}" disabled
	Page Should Not Contain Element			css=${element}

I should not see the element "${element}" displayed
	Element Should Not Be Visible		css=${element}
	
I should not see the element "${element}"
	Page Should Not Contain Element			css=${element}


I should be navigated to "${url}" in a new tab
	@{windows}=					Get Window Titles		
	Select Window				@{windows}[1]
	Sleep						${NAVIGATION}	
	Location Should Contain		${url}		

I should be navigated to "${url}"
	Sleep						${NAVIGATION}
	Location Should Contain		${url}
	
I should not be redirected off the page "${url}"
	Location Should Contain		${url}

I view the "${element}" element
	Page Should Contain Element		css=${element}	


I should see the link "${element}" with SSO link "${link}"
	${SSO}=	Get Element Attribute	css=${element}@href
	Should Be Equal	${SSO}	${link}


#WebMD
I enter a pin if necessary
	${URL}=	Get Location
	Run Keyword If		'${URL}'=='https://staging.webmdhealth.com/Registration/SecondFactorAuthentication.aspx/Sso'		I enter the pin "1234"
	
I enter the pin "${pin}"
	Sleep		${EVENT}
	Input Text			css=#Pin		${pin}
	Click Element		css=button[type="submit"]
	Sleep		${NAVIGATION}


Teardown Browser
    Close All Browsers