*** Settings ***
Library           Selenium2Library
Suite Setup		  Environment setup
Suite Teardown	  Teardown Browser
Resource          ../../resources/landingpage/landingpage_resource.txt

*** Test Cases ***

#US1137 - truncation
Username should NOT be truncated on the Landing Page
	[Tags]		Truncation
	Given I am a Registered MyBlue Member on the Landing Page
	Sleep		${EVENT}
	Then I should see "#userNameText" have the text "Marchcontract" displayed
	
	
#US1129 - Truncation
Username should NOT be truncated in the Navigation Bar
	[Tags]		Truncation
    Then I should see "span.username" have the text "Marchcontract" displayed
	Teardown Browser
	

#US243, US245, and US246 Test Cases for Desktop

##BHA section currently hidden
#Landing Page BHA Step Completed 
#	[Tags]		BHA
#	Given I am a Registered MyBlue Member on the Landing Page
#	When The "ul.bha li.completed div#step1" step is completed 
#	Then I should see the element "div#step1 div.complete" displayed 	
#	And I should see the element "div#step1 div.go-back #goBackToStep" displayed
#	And The "ul.bha li.next-step #step1" step is not highlighted
#	And The "ul.bha li.next-step #step2" step is enabled
#	
#
#Landing Page BHA Step Go Back Button Clicked 
#	[Tags]		BHA
#	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
#	When The "ul.bha li.completed div#step1" step is completed
#	And I Click the "div#step1 div.go-back #goBackToStep" link 
#	Then I should be navigated to "fepblue.org" in a new tab
#	
#
#Landing Page Health Coach Step Not Completed 
#	[Tags]		BHA
#	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
#	When The "ul.bha li.next-step #step2" step is not completed 
#	Then I should see the element "#step2" displayed
#	And The "ul.bha li.next-step #step2" step is enabled
#	And The "ul.bha li.next-step #step3" step is not enabled	 	
#	And I should not see the element "div#step2 div.go-back #goBackToStep" displayed
#	And I should not see the element "div#step2 div.complete" displayed 
#	
#
#Landing Page Healthy Actions Step Not Enabled 
#	[Tags]		BHA
#	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
#	And The "ul.bha li.completed div#step1" step is completed
#	And The "ul.bha li.next-step #step2" step is not completed
#	When The "ul.bha li.step div#step3" step is not completed 
#	Then The "ul.bha li.next-step #step3" step is not highlighted
#	And I should not see the element "div#step3 div.go-back #goBackToStep" displayed
#	And I should not see the element "div#step3 div.complete" displayed 
#	Teardown Browser
	
	
#US486 Test Cases
link to Classic Site Displayed
	[Tags]		ClassicSitelink	
	Given I am a Registered MyBlue Member on the Landing Page
	Then I should see the element "div.backToClassic a" displayed
	

link to Classic Site Navigates to Classic Page
	[Tags]		ClassicSitelink	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When I Click the "div.backToClassic a" link
	Then I should be navigated to "${MYBLUE}members/myblue/dashboard"
	

User content maintained on Classic Page
	[Tags]		ClassicSitelink	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When I Click the "div.backToClassic a" link
	Sleep		${NAVIGATION}
	Then I should see "span.username" have the text "Marchcontract" displayed
	
## Pilot link currently hidden
#link to Mdot Site Displayed on Classic Site
#	[Tags]		ClassicSitelink	
#	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
#	When I Click the "div.backToClassic a" link
#	Sleep		5 
#	Then I should see the element "#pilotSiteLink a img" displayed
#	Teardown Browser
	

#US477 - Logout redirect

##Expected to fail, Load balancer not implemented yet
#Logging out of Mdot should take me to MyBlue login page
#	[Tags]		Logout
#	Given I am a Registered MyBlue Member on the Landing Page
#	When I Click the ".username" element
#	And I Click the "li.logout a" link
#	Then I should be navigated to "${SERVER}/login"
#	Teardown Browser

#Logging out of a partner site should take me to MyBlue login page
#	[Tags]		Logout
#	Given I am a Registered MyBlue Member on the Landing Page
#	When I Click the "li#healthAndWellnesslink0 a" link
#	And I Click the ".username" element
#	And I Click the "li.logout a" link
#	Then I should be navigated to "${SERVER}/login"
#	Teardown Browser
	
Logging out of the classic site should take me to classic login page
	[Tags]		Logout
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "div.backToClassic a" link
	Sleep		${NAVIGATION}
	And I Click the ".username" element
	And I Click the "li.logout a" link
	Then I should be navigated to "${MYBLUE_LOGIN_URL}"
	Teardown Browser
	
Logging out of a partner site should take me to classic login page
	[Tags]		Logout
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "div.backToClassic a" link
	Sleep		${NAVIGATION}
	And I Click the "#viewAccountBalance" link
	Sleep		${NAVIGATION}
	And I Click the ".username" element
	And I Click the "li.logout a" link
	Then I should be navigated to "${MYBLUE_LOGIN_URL}"
	Teardown Browser


#US765: PreNavigation Intersitital
When I click Find a Pharmacy I should see the interstitial
	[Tags]		PreNavInterstitial
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#pharmacylink0 a" link
	Sleep		${NAVIGATION}
	Then I should see the element ".modal-dialog" displayed
	
I should see a message on the interstitial
	[Tags]		PreNavInterstitial
	Then I should see the element ".modal-dialog .copy" displayed
	
I should see a message on the interstitial with the following text
	[Tags]		PreNavInterstitial
	Then I should see ".modal-dialog .copy" have the text "You will be going to a new web site, operated on behalf of the Blue Cross and Blue Shield Service Benefit Plan by a third party. The protection of your privacy will be governed by the privacy policy of that site. Please review the terms of use and privacy policies of the new site you will be visiting." displayed
	
I should see an OK button
	[Tags]		PreNavInterstitial
	Then I should see the element "#OK" displayed

I should see a message on the modal
	[Tags]		PreNavInterstitial
	Then I should see the element ".copy" displayed
	
#On classic I should see the pre interstitial when I click Treatment cost
#	[Tags]		PreNavInterstitial1
#	Given I am a Registered MyBlue Member on the Landing Page
#	When I navigate to the classic site
#	And When I Click the "a:contains(' Check Treatment Costs ')" element
#	Sleep		${NAVIGATION}
#	Then I should see the element ".modal-dialog" displayed
	
#On classic I should see the pre interstitial when I click Walking works
#	[Tags]		PreNavInterstitial
#	When I navigate to the classic site
#	And When I Click the ".linkAggregatorContent:nth-child(1) li:nth-child(11) a" link
#	Sleep		${NAVIGATION}
#	Then I should see the element ".modal-dialog" displayed
