*** Settings ***
Library           Selenium2Library
Suite Teardown	  Close All Browsers
Resource          ../../resources/landingpage/landingpage_resource.txt

*** Test Cases ***
#US251 Test Cases for Desktop
Landing Page Health And Wellness links Displayed
	[Tags]		LandingPageLinks
	Given I am a Registered MyBlue Member on the Landing Page
	Reload Page
	Then I should see the element "span#healthAndWellness" displayed
	And I should see the link "li#healthAndWellnesslink0 a" displayed
	And I should see the link "li#healthAndWellnesslink1 a" displayed
	And I should see the link "li#healthAndWellnesslink2 a" displayed
	And I should see the link "li#healthAndWellnesslink3 a" displayed
	And I should see the link "li#healthAndWellnesslink4 a" displayed
	

Landing Page Wellness Incentives links Displayed
	[Tags]		LandingPageLinks
	Then I should see the element "span#wellnessIncentives" displayed
	And I should see the link "#wellnessIncentiveslink0 a" displayed
	And I should see the link "#wellnessIncentiveslink1 a" displayed
	And I should see the link "#wellnessIncentiveslink2 a" displayed
	And I should see the link "#wellnessIncentiveslink3 a" displayed
	

Landing Page Benefits links Displayed
	[Tags]		LandingPageLinks
	Then I should see the element "span#benefits" displayed
	And I should see the link "#benefitslink0 a" displayed
	And I should see the link "#benefitslink1 a" displayed
	And I should see the link "#benefitslink2 a" displayed
	And I should see the link "#benefitslink3 a" displayed
	And I should see the link "#benefitslink4 a" displayed
	
	
Landing Page Pharmacy links Displayed
	[Tags]		LandingPageLinks
	Then I should see the element "span#pharmacy" displayed
	And I should see the link "#pharmacylink0 a" displayed
	And I should see the link "#pharmacylink1 a" displayed
	And I should see the link "#pharmacylink2 a" displayed
	
	
Take charge of your familys health link Navigates to Family Health Page
	[Tags]		LandingPageLinks
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#healthAndWellnesslink0 a" link
	Then I should be navigated to "webmdhealth.com" in a new tab
	Teardown Browser
	
Get Baby Advice and Support link Navigates to Support Page
	[Tags]		LandingPageLinks
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#healthAndWellnesslink1 a" link
	Then I should be navigated to "webmdhealth.com" in a new tab
	Teardown Browser

#Treatment Costs link Navigates to Treatment Costs Page
#	[Tags]		LandingPageLinks
#	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
#	When I Click the "#healthAndWellnesslink2 a" link
#	Then I should be navigated to "treatmentestimator.com" in a new tab
	
	
Walking Works link Navigates to Treatment Costs Page
	[Tags]		LandingPageLinks
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#healthAndWellnesslink3 a" link
	Then I should be navigated to "bcbsafepww.com" in a new tab
	Teardown Browser
	

Health Club Membership link Navigates to Health Club Membership Page
	[Tags]		LandingPageLinks	
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#healthAndWellnesslink4 a" link
	Then I should be navigated to "healthways.com" in a new tab
	Teardown Browser
	

Wellness Card Center link Navigates to Wellness Card Center Page
	[Tags]		LandingPageLinks	
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#wellnessIncentiveslink0 a" link
	Then I should be navigated to "fepblue.org" in a new tab
	Teardown Browser
	

View Account Balance link Navigates to View Account Balance Page
	[Tags]		LandingPageLinks	
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#wellnessIncentiveslink1 a" link
	Then I should be navigated to "fepblue.org" in a new tab
	Teardown Browser
	

Lost Card link Navigates to Lost Card Page
	[Tags]		LandingPageLinks	
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#wellnessIncentiveslink2 a" link
	Then I should be navigated to "fepblue.org" in a new tab
	Teardown Browser
	

Tobacco Cessation link Navigates to Tobacco Cessation Page
	[Tags]		LandingPageLinks	
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#wellnessIncentiveslink3 a" link
	Then I should be navigated to "webmdhealth.com" in a new tab
	Teardown Browser
	

Explanation of Benefits link Navigates to Explanation of Benefits Page
	[Tags]		LandingPageLinks	
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#benefitslink0 a" link
	Then I should be navigated to "fepblue.org" in a new tab
	Teardown Browser
	

Order New Card link Navigates to Order New Card Page
	[Tags]		LandingPageLinks	
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#benefitslink1 a" link
	Then I should be navigated to "fepblue.org" in a new tab
	Teardown Browser
	

Customer Service Questions link Navigates to Customer Service Questions Page
	[Tags]		LandingPageLinks	
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#benefitslink2 a" link
	Then I should be navigated to "fepblue.org" in a new tab
	Teardown Browser
	

Customer Service Replies link Navigates to Customer Service Replies Page
	[Tags]		LandingPageLinks
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#benefitslink3 a" link
	Sleep		3
	Then I should be navigated to "fepblue.org" in a new tab
	Teardown Browser
	

Find a Form link Navigates to Forms Page
	[Tags]		LandingPageLinks	
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#benefitslink4 a" link
	Then I should be navigated to "fepblue.org" in a new tab
	Teardown Browser
	

Find a Pharmacy link Navigates to Forms Page
	[Tags]		LandingPageLinks
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#pharmacylink0 a" link
	And I Click the "#OK" element
	Sleep		5
	Then I should be navigated to "caremark.com" in a new tab
	Teardown Browser
	

Check Drug Cost link Navigates to Forms Page
	[Tags]		LandingPageLinks
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#pharmacylink1 a" link
	And I Click the "#OK" element
	Sleep		5
	Then I should be navigated to "caremark.com" in a new tab
	Teardown Browser
	

Review Pharmacy Benefits link Navigates to Review Pharmacy Benefits Page
	[Tags]		LandingPageLinks	
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#pharmacylink2 a" link
	Then I should be navigated to "fepblue.org" in a new tab
	Teardown Browser
	



#US249 Test Cases for Desktop
Landing Page My Account Info Quick links Displayed
	[Tags]		MyAccountInfolinkDisplayed	
	Given I am a Registered MyBlue Member on the Landing Page
	Then I should see the element "div.quicknav-myacc #myAccountInfo" displayed
	

Landing Page Member Id Card Quick links Displayed
	[Tags]		MemberIdCardlinkDisplayed	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	Then I should see the element "div.quicknav-memid #memberIdCard" displayed
	

Landing Page My Prescription Quick links Displayed
	[Tags]		MyPrescriptionlinkDisplayed	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	Then I should see the element "div.quicknav-pres #myPrescriptions" displayed
	

#Landing Page Nurse Line Quick links Displayed
#	[Tags]		NurseLinelinkDisplayed	
#	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
#	Then I should see the element "div.quicknav-nurse #nurseLine" displayed

Landing Page Find a Physician Quick links Displayed
	[Tags]		FindPhysicianlinkDisplayed	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	Then I should see the element "div.quicknav-physician #findPhysician" displayed
	

Landing Page Explanation of Benefits Quick links Displayed
	[Tags]		ExplanationBenefitslinkDisplayed	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	Then I should see the element "div.quicknav-benefits #explanationOfBenefits" displayed
	

#Landing Page Symptom Checker Quick links Displayed
#	[Tags]		SymptomCheckerlinkDisplayed	
#	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
#	Then I should see the element "div.quicknav-symptom #symptomChecker" displayed

Landing Page Personal Health Record Quick links Displayed
	[Tags]		PersonalHealthRecordlinkDisplayed	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	Then I should see the element "div.quicknav-record #personalHealthRecord" displayed
	

My Account Info Quick link Navigates to My Account Info Page
	[Tags]		ClickMyAccountlink	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When I Click the "div.quicknav-myacc #myAccountInfo" link
	Then I should be navigated to "landingpage" in a new tab
	

My Prescriptions Quick link Navigates to My Prescriptions Page
	[Tags]		ClickMyPrescriptionslink	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When I Click the "div.quicknav-pres #myPrescriptions" link
	Then I should be navigated to "caremark.com" in a new tab
	

#Nurse Line Quick link Navigates to Nurse Line Page
#	[Tags]		ClickNurseLinelink	
#	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
#	When I Click the "div.quicknav-nurse #nurseLine" link
#	Then I should be navigated to "fepblue.org" in a new tab

Find a Physician Quick link Navigates to Find a Physician Page
	[Tags]		ClickFindPhysicianlink	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When I Click the "div.quicknav-physician #findPhysician" link
	Then I should be navigated to "fepblue.org" in a new tab
	

Explanation of Benefits Quick link Navigates to Explanation of Benefits Page
	[Tags]		ClickExplanationBenefitslink	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When I Click the "div.quicknav-benefits #explanationOfBenefits" link
	Then I should be navigated to "fepblue.org" in a new tab
	

#Symptom Checker Quick link Navigates to Symptom Checker Page
#	[Tags]		ClickSymptomCheckerlink	
#	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
#	When I Click the "div.quicknav-symptom #symptomChecker" link
#	Then I should be navigated to "fepblue.org" in a new tab

Personal Health Record Quick link Navigates to Symptom Checker Page
	[Tags]		ClickPersonalHealthRecordlink	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When I Click the "div.quicknav-record #personalHealthRecord" link
	Then I should be navigated to "webmdhealth.com" in a new tab
	

Member Card Id Quick link Navigates to Symptom Checker Page
	[Tags]		ClickMemberCardIdlink	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When I Click the "div.quicknav-memid #memberIdCard" link
	Then I should be navigated to "memberidcard"
	

#US243, US245, and US246 Test Cases for Desktop

Landing Page BHA Step Completed 
	[Tags]		BhaStepCompleted
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When The "ul.bha li.completed div#step1" step is completed 
	Then I should see the element "div#step1 div.complete" displayed 	
	And I should see the element "div#step1 div.go-back #goBackToStep" displayed
#	And I should see the element "div.get-started #getStarted" displayed
	And The "ul.bha li.next-step #step1" step is not highlighted
	And The "ul.bha li.next-step #step2" step is enabled
	

Landing Page BHA Step Go Back Button Clicked 
	[Tags]		BhaStepGoBackClick
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When The "ul.bha li.completed div#step1" step is completed
	And I Click the "div#step1 div.go-back #goBackToStep" link 
	Then I should be navigated to "fepblue.org" in a new tab
	

Landing Page Health Coach Step Not Completed 
	[Tags]		HealthCoachStepNotCompleted
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When The "ul.bha li.next-step #step2" step is not completed 
	Then I should see the element "#step2" displayed
#	And I should see the element "div.get-started #getStarted" displayed
	And The "ul.bha li.next-step #step2" step is enabled
	And The "ul.bha li.next-step #step3" step is not enabled	 	
	And I should not see the element "div#step2 div.go-back #goBackToStep" displayed
	And I should not see the element "div#step2 div.complete" displayed 
	

Landing Page Healthy Actions Step Not Enabled 
	[Tags]		HealthyActionStepNotEnabled
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	And The "ul.bha li.completed div#step1" step is completed
	And The "ul.bha li.next-step #step2" step is not completed
	When The "ul.bha li.step div#step3" step is not completed 
	Then The "ul.bha li.next-step #step3" step is not highlighted
#	And I should see the element "div.get-started #getStarted" displayed
	And I should not see the element "div#step3 div.go-back #goBackToStep" displayed
	And I should not see the element "div#step3 div.complete" displayed 
	
	
#US486 Test Cases

link to Classic Site Displayed
	[Tags]		DisplayClassicSitelink	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	Then I should see the element "div.backToClassic a" displayed
	

link to Classic Site Navigates to Classic Page
	[Tags]		ClassicSitelinkTest	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When I Click the "div.backToClassic a" link
	Then I should be navigated to "https://dev.fepblue.org:8443/members/myblue/dashboard"
	

User content maintained on Classic Page
	[Tags]		ClassicSiteUserContentTest	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When I Click the "div.backToClassic a" link
	Sleep		5
	Then I should see "span.username" have the text "MARCHCONTRACT" displayed
	

link to Mdot Site Displayed on Classic Site
	[Tags]		DisplayMdotSitelink	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When I Click the "div.backToClassic a" link
	Sleep		5 
	Then I should see the element "div#pilotSitelink a" displayed
	

link to Mdot Site Navigates to Mdot Landing Page From Classic Site
	[Tags]		MdotlinkTest	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	And I Click the "div.backToClassic a" link
	Sleep		5
	When I Click the "div#pilotSitelink a" link
	Then I should be navigated to "landingpage"
	

User content maintained on Mdot Landing Page when navigated from the Classic Site
	[Tags]		MdotSiteUserContentTest	
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	And I Click the "div.backToClassic a" link
	Sleep		5
	When I Click the "div#pilotSitelink a" link
	Sleep		5
	Then I should see "span.username" have the text "MARCHCONTRACT" displayed
	Teardown Browser

#US736 - Single Sign out
Logging out of Mdot should take me to MyBlue login page
	[Tags]		SSO
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the ".username" element
	And I Click the "li.logout a" link
	Set Suite Variable			${IS_LANDINGPAGE_LOGIN}				0
	Sleep		5
	Then I should be navigated to "${SERVER}/login"
	Teardown Browser

Logging out of a partner site should take me to MyBlue login page
	[Tags]		SSO
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "li#healthAndWellnesslink0 a" link
	And I Click the ".username" element
	And I Click the "li.logout a" link
	Set Suite Variable			${IS_LANDINGPAGE_LOGIN}				0
	Sleep		5
	Then I should be navigated to "${SERVER}/login"
	Teardown Browser
	
Logging out of the classic site should take me to classic login page
	[Tags]		SSO
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "div.backToClassic a" link
	Sleep		5
	And I Click the ".username" element
	And I Click the "li.logout a" link
	Set Suite Variable			${IS_LANDINGPAGE_LOGIN}				0
	Sleep		5
	Then I should be navigated to "${MYBLUE_LOGIN_URL}"
	Teardown Browser
	
Logging out of the classic site should take me to classic login page
	[Tags]		SSO
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "div.backToClassic a" link
	Sleep		5
	And I Click the "#webmdTakeChargeYourFamilyHealthTodayURL" link
	Sleep		5
	And I Click the ".username" element
	And I Click the "li.logout a" link
	Set Suite Variable			${IS_LANDINGPAGE_LOGIN}				0
	Sleep		5
	Then I should be navigated to "${MYBLUE_LOGIN_URL}"
	Teardown Browser


#US765: PreNavigation Intersitital
When I click Find a Pharmacy I should see the interstitial
	[Tags]		PreNavInterstitial
	Given I am a Registered MyBlue Member on the Landing Page
	When I Click the "#pharmacylink0 a" link
	Sleep		3
	Then I should see the element ".modal-dialog" displayed
	
I should see an OK button
	[Tags]		PreNavInterstitial
	Then I should see the element "#OK" displayed

I should see a message on the modal
	[Tags]		PreNavInterstitial
	Then I should see the element ".copy" displayed

When I click Check drug cost I should see the interstitial
	[Tags]		PreNavInterstitial
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When I Click the "#pharmacylink1 a" link
	Sleep		3
	Then I should see the element ".modal-dialog" displayed
	
When I click Find a Pharmacy in the Nav I should see the interstitial
	[Tags]		PreNavInterstitial
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When I Click the "li[data-url-config=\"navigation.main.pharmacy\"] a" link 
	And I Click the "li[data-url-config=\"navigation.main.pharmacy.nodes.findAPharmacy\"] a" link
	Sleep		3
	Then I should see the element "div#mybluenav-modal" displayed

I should see a message on the modal
	[Tags]		PreNavInterstitial
	Then I should see the element "h3[data-i18n=\"messages.preInterstitial.header\"]" displayed
	Then I should see the element "div[data-i18n=\"messages.preInterstitial.body\"]" displayed
	
When I click Check drug cost in the Nav I should see the interstitial
	[Tags]		PreNavInterstitial
	Given I am a Registered MyBlue Member on the Landing Page (Session exists)
	When I Click the "li[data-url-config=\"navigation.main.pharmacy\"] a" link  
	And I Click the "li[data-url-config=\"navigation.main.pharmacy.nodes.checkDrugCost\"] a" link
	Sleep		3
	Then I should see the element "div#mybluenav-modal" displayed