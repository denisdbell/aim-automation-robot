*** Settings ***
Library           Selenium2Library
Suite Setup		  Environment setup
Suite Teardown	  Close All Browsers
Resource          ../../resources/navbar/navbar_resource.txt

*** Test Cases ***

Username displayed on MyBlue App
	[Tags]		UsernameTest
    Given I am logged into the MyBlue Portal
	Sleep						${NAVIGATION}	
    Then I should see the element "span.username" displayed

Username displayed on Partner site
	[Tags]		UsernameTest
    When I Click the "#wellnessIncentiveslink1 a" link
	Sleep						${NAVIGATION}	
    Then I should see the element "span.username" displayed
    Teardown Browser
    

#US738 Test cases
Change Your Email Address link in user drop down menu
   [Tags]		TestUsernameDropdown
   Given I am logged into the MyBlue Portal
   When I click the "li#Username" element
   Sleep		${EVENT}
   Then I should see the element "li[data-url-config="navigation.main.selfMenu.nodes.changeYourEmailAddress"]" displayed
   
   
Change Your Password link in user drop down menu
   [Tags]		TestUsernameDropdown
   Then I should see the element "li[data-url-config="navigation.main.selfMenu.nodes.changeYourPassword"]" displayed
   
   
Change Your Username link in user drop down menu
   [Tags]		TestUsernameDropdown
   Then I should see the element "li[data-url-config="navigation.main.selfMenu.nodes.changeYourUsername"]" displayed
   Teardown Browser


#US764 - Post Navigation Test
M. Post-Navigation Interstitial Legal Message on chip rewards
	[Tags]		PostNavigationInterstitial
	Given I am logged into the MyBlue Portal
	When I click the "#wellnessIncentiveslink1 a" link
	Sleep		${NAVIGATION}
	Then I should see the element ".col-xs-10" displayed
	
M. Post-Navigation Interstitial Legal Message Text
	[Tags]		PostNavigationInterstitial
	Then I should see ".col-xs-10" have the text "You have accessed a third party website. " displayed

#US757
M. Post-Navigation Interstitial Legal Message link
	[Tags]		PostNavigationInterstitial
	Then I should see ".thirdpartyContent a" have the text "View Details" displayed
	
M. Post-Navigation Interstitial Legal Message More Details
	[Tags]		PostNavigationInterstitial
	When I click the ".icon.arrow" element
	Sleep		${NAVIGATION}
	Then I should see ".col-xs-10" have the text "This web site is operated on behalf of FEP by a third party. The protection of your privacy will be governed by the privacy policy of this site. Please review the site's terms of use and privacy policy for details." displayed
	
M. Post-Navigation Interstitial Legal Message on eService
	[Tags]		PostNavigationInterstitial
	When I navigate to MyBlue Pilot
	And I click the "#benefitslink0 a" link
	Sleep		${NAVIGATION}
	Then I should see the element ".col-xs-10" displayed
	
M. Post-Navigation Interstitial Legal Message on WebMD
	[Tags]		PostNavigationInterstitial
	When I navigate to MyBlue Pilot
	And I click the "#healthAndWellnesslink0 a" link
	Sleep		${NAVIGATION}
	Then I should see the element ".col-xs-10" displayed
	Teardown Browser
	
	
#DE81
Unified Nav when navigating from landing page MyBlue Classic to RX Statements (on eService) for the first time i should see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	Given I am logged into the MyBlue Portal
	When I click the "li#my-account" element
	And I click the "[data-url-config='navigation.main.myAccount.nodes.statements'] a" link
	Sleep		${NAVIGATION}
	Then I should see the element ".col-xs-10" displayed
	Teardown Browser
	
Unified Nav when navigating from landing page MyBlue Classic to order a new ID card (on eService) for the first time i should see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	Given I am logged into the MyBlue Portal
	When I click the "li#my-account" element
	And I click the "[data-url-config='navigation.main.selfMenu.nodes.orderANewIDCard'] a" link
	Sleep		${NAVIGATION}
	Then I should see the element ".col-xs-10" displayed
	
Unified Nav when navigating from order a new ID card (eService) to RX Statement (eService) i should NOT see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	When I click the "li#my-account" element
	And I click the "[data-url-config='navigation.main.myAccount.nodes.statements'] a" link
	Sleep		${NAVIGATION}
	Then I should not see the element ".col-xs-10" displayed
	
Unified Nav when navigating from RX statements (eService) to RX statements (eService) i should NOT see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	When I click the "li#my-account" element
	And I click the "[data-url-config='navigation.main.myAccount.nodes.statements'] a" link
	Sleep		${NAVIGATION}
	Then I should not see the element ".col-xs-10" displayed

Unified Nav when navigating from RX Statement (eService) to order a new ID card (eService) i should NOT see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	When I click the "li#my-account" element
	And I click the "[data-url-config='navigation.main.selfMenu.nodes.orderANewIDCard'] a" link
	Sleep		${NAVIGATION}
	Then I should not see the element ".col-xs-10" displayed
	
Unified Nav when navigating from order a new ID card (eService) to order a new ID card (eService) i should NOT see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	When I click the "li#my-account" element
	And I click the "[data-url-config='navigation.main.selfMenu.nodes.orderANewIDCard'] a" link
	Sleep		${NAVIGATION}
	Then I should not see the element ".col-xs-10" displayed
	
Unified Nav when navigating from order a new ID card (eService) to MyBlue classic i should NOT see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	When I click the "li#my-blue a" link
	Sleep		${NAVIGATION}
	Then I should not see the element ".col-xs-10" displayed
	
Unified Nav when navigating from MyBlue classic to RX statements (eService) for the second time i should see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	When I click the "li#my-account" element
	And I click the "[data-url-config='navigation.main.myAccount.nodes.statements'] a" link
	Sleep		${NAVIGATION}
	Then I should see the element ".col-xs-10" displayed

Unified Nav when navigating from RX statements (eService) to MyBlue classic i should NOT see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	When I click the "li#my-blue a" link
	Sleep		${NAVIGATION}
	Then I should not see the element ".col-xs-10" displayed

Unified Nav when navigating from MyBlue classic to order a new ID card (eService) within 15 seconds of comming from eService i should NOT see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	When I click the "li#my-account" element
	And I click the "[data-url-config='navigation.main.selfMenu.nodes.orderANewIDCard'] a" link
	Sleep		${NAVIGATION}
	Then I should not see the element ".col-xs-10" displayed

Unified Nav when navigating from order a new ID card (eService) to MyBlue classic i should NOT see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	When I click the "li#my-blue a" link
	Sleep		${NAVIGATION}
	Then I should not see the element ".col-xs-10" displayed

Unified Nav when navigating from MyBlue classic to order a new ID card (eService) after 15 seconds of comming from eService i should see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	Sleep		15
	When I click the "li#my-account" element
	And I click the "[data-url-config='navigation.main.selfMenu.nodes.orderANewIDCard'] a" link
	Sleep		${NAVIGATION}
	Then I should see the element ".col-xs-10" displayed

#these tests only work on stage if not stage end here and teardown
Unified Nav when navigating submitting dynamic key i should not see the post privacy message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	When I Enter "222222" in the "#otppswd" textfield
	And I Click the "#Submit" Button
	Sleep		${NAVIGATION}
	Then I should not see the element ".col-xs-10" displayed

Unified Nav when navigating from order a new ID card (eService) to MyBlue classic i should NOT see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	When I click the "li#my-blue a" link
	Sleep		${NAVIGATION}
	Then I should not see the element ".col-xs-10" displayed

Unified Nav when navigating from MyBlue classic to order a new ID card (eService) after entering dynamic key i should see the PPM
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	When I click the "li#my-account" element
	And I click the "[data-url-config='navigation.main.selfMenu.nodes.orderANewIDCard'] a" link
	Sleep		${NAVIGATION}
	Then I should see the element ".col-xs-10" displayed
	Teardown Browser
	
Unified Nav when navigating from landing page MyBlue Classic to Order new Id Card (on eService) as a spouse user for the first time i should see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	Given I am logged into the MyBlue Portal as a Spouse User
	When I click the "li#my-account" element
	And I click the "[data-url-config='navigation.main.selfMenu.nodes.orderANewIDCard'] a" link
	Sleep		${NAVIGATION}
	Then I should see the element ".col-xs-10" displayed

Unified Nav when entering dynamic key on auth page - Order new Id Card (on eService) and submitting i should not see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	When I Enter "222222" in the "#otppswd" textfield
	And I Click the "#Submit" Button
	Sleep		${NAVIGATION}
	Then I should not see the element ".col-xs-10" displayed

Unified Nav when navigating from order a new ID card (eService) to MyBlue classic i should NOT see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	When I click the "li#my-blue a" link
	Sleep		${NAVIGATION}
	Then I should not see the element ".col-xs-10" displayed

Unified Nav when navigating from landing page MyBlue Classic to Order new Id Card (on eService) [access denied] as a spouse user i should see the post intersitial message
	[Tags]		PostNavigationInterstitial	EServicePostNavigationInterstitial
	When I click the "li#my-account" element
	And I click the "[data-url-config='navigation.main.selfMenu.nodes.orderANewIDCard'] a" link
	Sleep		${NAVIGATION}
	Then I should see the element ".col-xs-10" displayed
	Teardown Browser

#US767 - CSR Nav
As a CSR, I should see the wellness icon disabled
	[Tags]		CSR
	Given I am logged in CSR
	Then I should see the element "#Wellness[class=\"disable\"]" disabled
	
As a CSR, I should see the FEP Blue link disabled
	[Tags]		CSR
	Then I should see the element "#fep-blue[class=\"disable\"]" disabled
	
As a CSR, I should see the Pharmacy link disabled
	[Tags]		CSR
	Then I should see the element "#pharmacy[class=\"disable\"]" disabled
	
As a CSR, I should see the Health Tools link disabled
	[Tags]		CSR
	Then I should see the element "#health-tools[class=\"disable\"]" disabled
	
As a CSR, I should see the My Blue link disabled
	[Tags]		CSR
	Then I should see the element "#my-blue[class=\"disable\"]" disabled
	
As a CSR, I should see the My Account link enabled and active
	[Tags]		CSR
	Then I should not see the element "#my-account[class=\"disable\"]" disabled

As a CSR, I should not be redirected when I click the wellness icon
	[Tags]		CSR
	When I Click the "#Wellness[class=\"disable\"]" element
	Then I should not be redirected off the page "${MYBLUE_CSR_NAV}"
	
As a CSR, I should not be redirected when I click the FEP Blue link
	[Tags]		CSR
	When I Click the "#fep-blue[class=\"disable\"]" element
	Then I should not be redirected off the page "${MYBLUE_CSR_NAV}"
	
As a CSR, I should not be redirected when I click the Pharmacy link
	[Tags]		CSR
	When I Click the "li[data-url-config=\"navigation.main.pharmacy\"] a" link
	Then I should not be redirected off the page "${MYBLUE_CSR_NAV}"
	
As a CSR, I should not be redirected when I click the Health Tools link
	[Tags]		CSR
	When I Click the "li#health-tools" element
	Then I should not be redirected off the page "${MYBLUE_CSR_NAV}"
	
As a CSR, I should not be redirected when I click the My Blue link
	[Tags]		CSR
	When I Click the "#my-blue[class=\"disable\"]" element
	Then I should not be redirected off the page "${MYBLUE_CSR_NAV}"
	
As a CSR, I should see the My Account drop down list
	[Tags]		CSR
	When I Click the "#my-account" element
	Then I should see the element "#my-account .cbp-hrsub" displayed
	Teardown Browser
	
	
#US758 - Update WebMD's Menu Look & Feel on the Navigation Bar
I should see the WebMd dropdown list
	[Tags]		WebMDLookAndFeel
	Given I am logged into the MyBlue Portal
	Sleep		${NAVIGATION}
	When I click the "#health-tools" element
	Sleep		${EVENT}
	Then I should see the element "#health-tools div .col-sm-4" displayed
	
I should see the link Tobacco Cessation
	[Tags]		WebMDLookAndFeel
	Then I should see the element "li[data-url-config=\"navigation.main.healthTools.nodes.tobaccoCessation\"]" displayed
	
I should see the link Nurse Line
	[Tags]		WebMDLookAndFeel
	Then I should see the element "li[data-url-config=\"navigation.main.healthTools.nodes.nurseLine\"]" displayed
	Teardown Browser
	
	
#US731 - Tour/Introduction to the new unified navigation
I should see the Tour/Introduction when I login for the first time
	[Tags]		Tour
	Given I am logged into the MyBlue Portal for the first time
	Then I should see the element ".intronavimg" displayed
	
I should see a close button
	[Tags]		Tour
	Then I should see the element ".intronavclose" displayed

I should not see the Tour/Introduction
	[Tags]		Tour
	When I Click the "a.intronavclose" link
	Sleep		${NAVIGATION}
	Then I should not see the element ".intronav" displayed
	
I should see the Tour/Introduction when I login for the first time on Mobile
	[Tags]		Tour
	Given I am on a mobile device
	And I navigate to "${NAVBAR_SAMPLE_URL}?showNavTour=true"
	Sleep		${NAVIGATION}
	Then I should see the element ".intronavimg" displayed
	
I should see a close button on Mobile
	[Tags]		Tour
	Then I should see the element ".intronavclose" displayed

I should not see the Tour/Introduction on Mobile
	[Tags]		Tour
	When I Click the "a.intronavclose" link
	Sleep		${NAVIGATION}
	Then I should not see the element ".intronav" displayed
	Teardown Browser
		