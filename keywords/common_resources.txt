*** Settings ***
Documentation     A resource file with reusable keywords and variables.
...
...               The system specific keywords created here form our own
...               domain specific language. They utilize keywords provided
...               by the imported Selenium2Library.
Library           Selenium2Library
Library        lib/utils.py

*** Variables ***
${SERVER}         carepass.com/carepass
${BROWSER}        firefox
${PHANTOMJS_REMOTE_URL}    http://localhost:4444
${BROWSER_ALIAS}    main browser
${DELAY}          0
${VALID USER}     demo
${VALID PASSWORD}    mode

# AUTH PAGES
${LOGIN URL}      https://${SERVER}/login
${LOG OUT}        https://${SERVER}/logout
${REGISTRATION URL}        https://${SERVER}/register
${WELCOME URL}    https://www.${SERVER}/

# APP MANAGEMENT PAGE
${APP URL}        https://${SERVER}/apps
# e.g connecting jawbone :- /connect/provider?appToken=jawbone
${APP CONNECT URL}        https://${SERVER}/connect/provider?appToken=
${FITSYNC CONNECT URL}        https://app.fitsync.com/carepass


# USER PROFILE PAGE
${BIOGRAPHY URL}        https://${SERVER}/biography

# GOAL URL
${GET STARTED URL}        https://${SERVER}/getstarted                  # Getting started page
${GET STARTED GOAL URL}        ${GET STARTED URL}/goals                 # Goal selection page
${GOAL WIZARD URL}          ${GET STARTED GOAL URL}?goalTemplateId=     # Goal Wizard
${GOAL HISTORY URL}        https://${SERVER}/goals/history              # Goal history page
${GOAL TRACKER URL}         https://${SERVER}/goals/?goal=              # Goal tracking page

# PROFILES
${FITNESS PROFILE}      https://${SERVER}/fitness/activity
${NUTRITION PROFILE}      https://${SERVER}/nutrition
${DR VISITS PROFILE}      https://${SERVER}/drvisits
${INSURANCE PROFILE}      https://${SERVER}/insurance
${MOOD PROFILE}      https://${SERVER}/profiles/moods
${SLEEP PROFILE}      https://${SERVER}/profiles/health/sleep
${MEDICATIONS PROFILE}      https://${SERVER}/profiles/health/medications
${BODY MEASUREMENT PROFILE}      https://${SERVER}/profiles/health/bodymeasurements
${LAB RESULTS PROFILE}      https://${SERVER}/profiles/health/labresults
${CONDITIONS PROFILE}      https://${SERVER}/profiles/health/conditions
${LIFESTYLE PROFILE}      https://${SERVER}/lifestyle

# STATIC PAGES
${ITRIAGE URL}      https://${SERVER}/apps/itriage
${HELP URL}      https://${SERVER}/static-page/help

${DEFAULT USER NAME}    ferron.hanse
${DEFAULT USER PASSWORD}    Wizard12

*** Keywords ***
Open Browser To Login Page
    [Documentation]    Open Browser ${LOGIN URL} ${BROWSER} ${BROWSER_ALIAS} ${PHANTOMJS_REMOTE_URL}
    Open Browser    ${LOGIN URL}    ${BROWSER}
    Maximize Browser Window
    Set Selenium Speed    ${DELAY}
    Login Page Should Be Open

Login Page Should Be Open
    Title Should Be    Log in | CarePass

Go To Login Page
    Go To    ${LOGIN URL}
    Login Page Should Be Open

Input Username
    [Arguments]    ${username}
    Input Text    USER    ${username}

Input Password
    [Arguments]    ${password}
    Input Text    PASSWORD    ${password}

Logout
    Go To    ${LOG OUT}

Submit Credentials
    Click Link    login-button

Login To App
    [Arguments]    ${username}    ${password}
    Input Username    ${username}
    Input Password    ${password}
    Submit Credentials

Welcome Page Should Be Open
    Location Should Be    ${WELCOME URL}
    Title Should Be    CarePass

Teardown Take Failure Snapshot
    Run Keyword If Test Failed    Capture Screenshot

Teardown Browser
    Close Browser
